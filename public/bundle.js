!function(Q){var U={};function F(B){if(U[B])return U[B].exports;var c=U[B]={i:B,l:!1,exports:{}};return Q[B].call(c.exports,c,c.exports,F),c.l=!0,c.exports}F.m=Q,F.c=U,F.d=function(Q,U,B){F.o(Q,U)||Object.defineProperty(Q,U,{enumerable:!0,get:B})},F.r=function(Q){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(Q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Q,"__esModule",{value:!0})},F.t=function(Q,U){if(1&U&&(Q=F(Q)),8&U)return Q;if(4&U&&"object"==typeof Q&&Q&&Q.__esModule)return Q;var B=Object.create(null);if(F.r(B),Object.defineProperty(B,"default",{enumerable:!0,value:Q}),2&U&&"string"!=typeof Q)for(var c in Q)F.d(B,c,function(U){return Q[U]}.bind(null,c));return B},F.n=function(Q){var U=Q&&Q.__esModule?function(){return Q.default}:function(){return Q};return F.d(U,"a",U),U},F.o=function(Q,U){return Object.prototype.hasOwnProperty.call(Q,U)},F.p="public",F(F.s=0)}([function(module,__webpack_exports__,__webpack_require__){"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./src/functions.ts\nconst getRandomInt = (max) => {\r\n    return Math.floor(Math.random() * Math.floor(max));\r\n};\r\n\n// CONCATENATED MODULE: ./src/classes/PokeStats.ts\n\r\n/**\r\n * All Pokemon Types.\r\n * Enum values follow PokeAPI type values.\r\n */\r\nvar PokeType;\r\n(function (PokeType) {\r\n    PokeType[PokeType["NORMAL"] = 1] = "NORMAL";\r\n    PokeType[PokeType["FIGHTING"] = 2] = "FIGHTING";\r\n    PokeType[PokeType["FLYING"] = 3] = "FLYING";\r\n    PokeType[PokeType["POISON"] = 4] = "POISON";\r\n    PokeType[PokeType["GROUND"] = 5] = "GROUND";\r\n    PokeType[PokeType["ROCK"] = 6] = "ROCK";\r\n    PokeType[PokeType["BUG"] = 7] = "BUG";\r\n    PokeType[PokeType["GHOST"] = 8] = "GHOST";\r\n    PokeType[PokeType["STEEL"] = 9] = "STEEL";\r\n    PokeType[PokeType["FIRE"] = 10] = "FIRE";\r\n    PokeType[PokeType["WATER"] = 11] = "WATER";\r\n    PokeType[PokeType["GRASS"] = 12] = "GRASS";\r\n    PokeType[PokeType["ELECTRIC"] = 13] = "ELECTRIC";\r\n    PokeType[PokeType["ICE"] = 14] = "ICE";\r\n    PokeType[PokeType["DRAGON"] = 15] = "DRAGON";\r\n    PokeType[PokeType["DARK"] = 16] = "DARK";\r\n    PokeType[PokeType["FAIRY"] = 17] = "FAIRY";\r\n})(PokeType || (PokeType = {}));\r\n/**\r\n * Represent Pokemon\'s Pokedex stats.\r\n */\r\nclass PokeStats_PokeStats {\r\n    constructor(pokeType, pokeNumber, height, weight, name, desc, genus, imgUrl, spriteUrl, pokeTypeUrl) {\r\n        this.pokeType = pokeType;\r\n        this.pokeNumber = pokeNumber;\r\n        this.height = height;\r\n        this.weight = weight;\r\n        this.name = name;\r\n        this.desc = desc;\r\n        this.genus = genus;\r\n        this.imgUrl = imgUrl;\r\n        this.spriteUrl = spriteUrl;\r\n        this.pokeTypeUrl = pokeTypeUrl;\r\n        // DOM Reference to Pokedex entry fields\r\n        this.displayPokeNumber = document.getElementById("display-poke-number");\r\n        this.displayPokeName = document.getElementById("display-poke-name");\r\n        this.displayPokeHeight = document.getElementById("display-poke-height");\r\n        this.displayPokeWeight = document.getElementById("display-poke-weight");\r\n        this.displayPokeBattles = document.getElementById("display-poke-battles");\r\n        this.displayPokeDesc = document.getElementById("display-poke-desc");\r\n        this.displayPokeGenus = document.getElementById("display-poke-genus");\r\n        this.displayPokeSprite = document.getElementById("display-poke-sprite");\r\n        this.displayPokeImg = document.getElementById("display-poke-img");\r\n        // Poke Type\r\n        this.displayPokeTypeImg1 = document.getElementById("display-poke-type-img-1");\r\n        this.displayPokeTypeImg2 = document.getElementById("display-poke-type-img-2");\r\n        this.displayPokeType1 = document.getElementById("display-poke-type-1");\r\n        this.displayPokeType2 = document.getElementById("display-poke-type-2");\r\n        this.type01 = document.getElementById("type01");\r\n        this.type02 = document.getElementById("type02");\r\n    }\r\n    /**\r\n     * Populate the Pokedex entry with the correct information\r\n     * based on SearchParams.  PokeStats object instantiated based\r\n     * on SearchParams.\r\n     */\r\n    populate() {\r\n        this.displayPokeNumber.textContent = `# ${this.pokeNumber.toString()}`;\r\n        this.displayPokeName.textContent = this.name;\r\n        this.displayPokeHeight.textContent = `${this.height.toString()} ft`;\r\n        this.displayPokeWeight.textContent = `${this.weight.toString()} lbs`;\r\n        this.displayPokeBattles.textContent = getRandomInt(10).toString();\r\n        this.displayPokeDesc.textContent = this.desc;\r\n        this.displayPokeGenus.textContent = this.genus;\r\n        this.displayPokeImg.src = this.imgUrl;\r\n        this.displayPokeSprite.src = this.spriteUrl;\r\n        this.renderPokeType();\r\n    }\r\n    /**\r\n     * Render Pokemon\'s types by using DOM.\r\n     * A Pokemon necessarily has 1 or 2 types only.\r\n     */\r\n    renderPokeType() {\r\n        this.displayPokeType1.textContent = this.pokeType[0];\r\n        this.displayPokeTypeImg1.src = this.pokeTypeUrl[0];\r\n        if (this.pokeTypeUrl.length == 1) {\r\n            this.type02.style.display = "none";\r\n        }\r\n        else if (this.pokeTypeUrl.length == 2) {\r\n            this.type02.style.display = "block";\r\n            this.displayPokeType2.textContent = this.pokeType[1];\r\n            this.displayPokeTypeImg2.src = this.pokeTypeUrl[1];\r\n        }\r\n        else {\r\n            throw "Invalid pokeTypeUrl array length in PokeStats";\r\n        }\r\n    }\r\n    /**\r\n   * Display stats in PokeStats object.\r\n   * For debugging purposes.\r\n   */\r\n    format() {\r\n        return `Name: ${this.name}\r\n\t\tType: ${this.pokeType[0]} / and more\r\n\t\tNo. ${this.pokeNumber}\r\n\t\tHeight: ${this.height}\r\n\t\tWeight: ${this.weight}\r\n\t\tDesc: ${this.desc}\r\n\t\timg url: ${this.imgUrl}\r\n\t\tSprite url: ${this.spriteUrl}\r\n\t\tPoketype url: ${this.pokeTypeUrl[0]} / and more\r\n\t\t`;\r\n    }\r\n}\r\n\n// CONCATENATED MODULE: ./src/classes/SearchParam.ts\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\nvar SearchOption;\r\n(function (SearchOption) {\r\n    SearchOption[SearchOption["NAME"] = 0] = "NAME";\r\n    SearchOption[SearchOption["COLOUR"] = 1] = "COLOUR";\r\n})(SearchOption || (SearchOption = {}));\r\n/**\r\n * Represent user keyword search term and SearchOption.\r\n * Methods perform search requests pursuant to search paramters.\r\n */\r\nclass SearchParam_SearchParam {\r\n    constructor(keyword, option) {\r\n        this.keyword = keyword;\r\n        this.option = option;\r\n        // Divide decimetre by this value to get feet\r\n        this.DECIMETRE_TO_FT = 3.048;\r\n        // Divide hectogram by this value to get pounds\r\n        this.HECTOGRAM_TO_LB = 4.536;\r\n        this.NAME_URL = "https://pokeapi.co/api/v2/pokemon/";\r\n        this.COLOUR_URL = "https://pokeapi.co/api/v2/pokemon-color/";\r\n        this.SPECIES_URL = "https://pokeapi.co/api/v2/pokemon-species/";\r\n        this.errorMsg = document.getElementById(\'poke-search-err\');\r\n    }\r\n    /**\r\n     * Return a PokeStats object based on data retrieved through PokeAPI\r\n     * for the purpose of filling a Pokedex entry.\r\n     */\r\n    getStats() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let data = yield this.getData();\r\n            if (Array.isArray(data) && !data.length)\r\n                return;\r\n            let pokemonData = data[0];\r\n            let imgUrl = data[1];\r\n            let speciesData = data[2];\r\n            // ATTRIBUTES\r\n            let pokeType = [];\r\n            let { id, height, weight, name } = pokemonData;\r\n            height = Math.round(height / this.DECIMETRE_TO_FT * 10) / 10;\r\n            weight = Math.round((weight / this.HECTOGRAM_TO_LB) * 10) / 10;\r\n            let desc = "placeholder desc";\r\n            let genus = "placeholder genus";\r\n            let spriteUrl = pokemonData.sprites.front_default;\r\n            let pokeTypeUrl = [];\r\n            /* Check if id is larger than 640.  If it is, return spriteUrl as imgUrl.\r\n                 3D Rendered images only available for Pokemon No. 1 - 640. */\r\n            if (id > 640)\r\n                imgUrl = spriteUrl;\r\n            //TYPE\r\n            for (let pType of pokemonData.types) {\r\n                pokeType.push(pType.type.name);\r\n            }\r\n            //DESC\r\n            desc = speciesData.flavor_text_entries[0].flavor_text;\r\n            genus = speciesData.genera[7].genus;\r\n            pokeType.forEach(pType => {\r\n                pokeTypeUrl.push(`./public/img/${pType}.png`);\r\n            });\r\n            return new PokeStats_PokeStats(pokeType, id, height, weight, name, desc, genus, imgUrl, spriteUrl, pokeTypeUrl);\r\n        });\r\n    }\r\n    /**\r\n     * Asynchronously retrieve three pieces of Pokemon data.\r\n     * 0. Pokemon Data (general stats such as height, weight)\r\n     * 1. 3D Render Image Url\r\n     * 2. Species Data (Pokemon description and genus)\r\n     */\r\n    getData() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.errorMsg.style.visibility = \'hidden\';\r\n            const pokemonData = $.get(`${this.NAME_URL}${this.keyword}`).fail((e) => {\r\n                this.renderErrorMsg();\r\n            });\r\n            const imgUrl = this.getImgUrl();\r\n            const speciesData = $.get(`${this.SPECIES_URL}${this.keyword}`).fail((e) => {\r\n                this.renderErrorMsg();\r\n            });\r\n            ;\r\n            try {\r\n                const allData = yield Promise.all([pokemonData, imgUrl, speciesData]);\r\n                return allData;\r\n            }\r\n            catch (err) {\r\n                console.error(`Cannot retrieve PokeAPI data for ${this.keyword}: getData() in SearchParam`, err);\r\n            }\r\n            return [];\r\n        });\r\n    }\r\n    /**\r\n     * Get 3D Render Image URL for Pokemon.\r\n     */\r\n    getImgUrl() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let data = yield this.getId();\r\n            let num = typeof (data) === \'number\' ? data : data.id;\r\n            return `https://raw.githubusercontent.com/ZeChrales/PogoAssets/master/pokemon_icons/pokemon_icon_${this.getUrlSnippet(num)}_00.png`;\r\n        });\r\n    }\r\n    renderErrorMsg() {\r\n        this.errorMsg.style.visibility = \'visible\';\r\n        this.errorMsg.textContent = `Pokemon ${this.keyword.toUpperCase()} does not exist. Please try again.`;\r\n    }\r\n    /**\r\n     * Get Pokemon No. based on search keyword.\r\n     */\r\n    getId() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (this.isNumeric(this.keyword)) {\r\n                return parseInt(this.keyword);\r\n            }\r\n            return yield $.get(`${this.NAME_URL}${this.keyword}`);\r\n        });\r\n    }\r\n    /**\r\n     * Get ID url snippet to retrieve correct image.\r\n     * 1 -> 001\r\n     * 13 -> 013\r\n     * 123 -> 123\r\n     * @param id as integer\r\n     */\r\n    getUrlSnippet(id) {\r\n        let snippet;\r\n        if (id < 10) {\r\n            snippet = `00${id.toString()}`;\r\n        }\r\n        else if (id < 100) {\r\n            snippet = `0${id.toString()}`;\r\n        }\r\n        else if (id >= 100) {\r\n            snippet = `${id.toString()}`;\r\n        }\r\n        else {\r\n            throw "id passed to getUrlSnippet() is NaN";\r\n        }\r\n        return snippet;\r\n    }\r\n    /**\r\n     * Helper method to check if keyword is numeric.\r\n     * @param value as string\r\n     */\r\n    isNumeric(value) {\r\n        return /^-{0,1}\\d+$/.test(value);\r\n    }\r\n}\r\n\n// CONCATENATED MODULE: ./src/index.ts\n\r\nconst src_form = document.getElementById("poke-search");\r\nconst keyword = document.getElementById("keyword");\r\nconst searchOption = document.getElementById("search-option");\r\nif (src_form) {\r\n    src_form.addEventListener("submit", (e) => {\r\n        e.preventDefault();\r\n        let option = parseInt(searchOption.value);\r\n        let values;\r\n        values = [keyword.value.toLowerCase(), option];\r\n        const searchParams = new SearchParam_SearchParam(...values);\r\n        keyword.value = \'\';\r\n        searchParams.getStats().then(pokeStats => {\r\n            if (pokeStats)\r\n                pokeStats.populate();\r\n        });\r\n    });\r\n}\r\n/******\r\n *  Materialise component initialisation\r\n *****/\r\n$(() => {\r\n    $(".sidenav").sidenav();\r\n    $("select").formSelect();\r\n});\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZnVuY3Rpb25zLnRzPzhhMDciLCJ3ZWJwYWNrOi8vLy4vc3JjL2NsYXNzZXMvUG9rZVN0YXRzLnRzPzg5M2MiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NsYXNzZXMvU2VhcmNoUGFyYW0udHM/NjRkOCIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXgudHM/ZmZiNCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQU8sTUFBTSxZQUFZLEdBQUcsQ0FBQyxHQUFXLEVBQUUsRUFBRTtJQUMxQyxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztBQUNyRCxDQUFDOzs7QUNGMkM7QUFFNUM7OztHQUdHO0FBQ0gsSUFBWSxRQWtCWDtBQWxCRCxXQUFZLFFBQVE7SUFDbEIsMkNBQVU7SUFDViwrQ0FBUTtJQUNSLDJDQUFNO0lBQ04sMkNBQU07SUFDTiwyQ0FBTTtJQUNOLHVDQUFJO0lBQ0oscUNBQUc7SUFDSCx5Q0FBSztJQUNMLHlDQUFLO0lBQ0wsd0NBQUk7SUFDSiwwQ0FBSztJQUNMLDBDQUFLO0lBQ0wsZ0RBQVE7SUFDUixzQ0FBRztJQUNILDRDQUFNO0lBQ04sd0NBQUk7SUFDSiwwQ0FBSztBQUNQLENBQUMsRUFsQlcsUUFBUSxLQUFSLFFBQVEsUUFrQm5CO0FBRUQ7O0dBRUc7QUFDSSxNQUFNLG1CQUFTO0lBNkNwQixZQUNVLFFBQWtCLEVBQ2xCLFVBQWtCLEVBQ2xCLE1BQWMsRUFDZCxNQUFjLEVBQ2QsSUFBWSxFQUNaLElBQVksRUFDWixLQUFhLEVBQ2IsTUFBYyxFQUNkLFNBQWlCLEVBQ2pCLFdBQXFCO1FBVHJCLGFBQVEsR0FBUixRQUFRLENBQVU7UUFDbEIsZUFBVSxHQUFWLFVBQVUsQ0FBUTtRQUNsQixXQUFNLEdBQU4sTUFBTSxDQUFRO1FBQ2QsV0FBTSxHQUFOLE1BQU0sQ0FBUTtRQUNkLFNBQUksR0FBSixJ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RyxRQUFRLENBQUMsY0FBYyxDQUFDLGVBQWUsQ0FBc0IsQ0FBQztBQUVuRixJQUFJLFFBQUksRUFBRTtJQUNULFFBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFRLEVBQUUsRUFBRTtRQUM1QyxDQUFDLENBQUMsY0FBYyxFQUFFLENBQUM7UUFDbkIsSUFBSSxNQUFNLEdBQVcsUUFBUSxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNsRCxJQUFJLE1BQXdCLENBQUM7UUFDN0IsTUFBTSxHQUFHLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxXQUFXLEVBQUUsRUFBRSxNQUFNLENBQUMsQ0FBQztRQUUvQyxNQUFNLFlBQVksR0FBRyxJQUFJLHVCQUFXLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQztRQUNoRCxPQUFPLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQztRQUNuQixZQUFZLENBQUMsUUFBUSxFQUFFLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFFO1lBQ3hDLElBQUksU0FBUztnQkFBRSxTQUFTLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDckMsQ0FBQyxDQUFDLENBQUM7SUFDSixDQUFDLENBQUMsQ0FBQztDQUNIO0FBRUQ7O09BRU87QUFDUCxDQUFDLENBQUMsR0FBRyxFQUFFO0lBQ0MsQ0FBQyxDQUFDLFVBQVUsQ0FBRSxDQUFDLE9BQU8sRUFBRSxDQUFDO0lBQ3pCLENBQUMsQ0FBQyxRQUFRLENBQUUsQ0FBQyxVQUFVLEVBQUUsQ0FBQztBQUNsQyxDQUFDLENBQUMsQ0FBQyIsImZpbGUiOiIwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGdldFJhbmRvbUludCA9IChtYXg6IG51bWJlcikgPT4ge1xyXG4gIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBNYXRoLmZsb29yKG1heCkpO1xyXG59IiwiaW1wb3J0IHsgZ2V0UmFuZG9tSW50IH0gZnJvbSAnLi4vZnVuY3Rpb25zJztcclxuXHJcbi8qKlxyXG4gKiBBbGwgUG9rZW1vbiBUeXBlcy5cclxuICogRW51bSB2YWx1ZXMgZm9sbG93IFBva2VBUEkgdHlwZSB2YWx1ZXMuXHJcbiAqL1xyXG5leHBvcnQgZW51bSBQb2tlVHlwZSB7XHJcbiAgTk9STUFMID0gMSxcclxuICBGSUdIVElORyxcclxuICBGTFlJTkcsXHJcbiAgUE9JU09OLFxyXG4gIEdST1VORCxcclxuICBST0NLLFxyXG4gIEJVRyxcclxuICBHSE9TVCxcclxuICBTVEVFTCxcclxuICBGSVJFLFxyXG4gIFdBVEVSLFxyXG4gIEdSQVNTLFxyXG4gIEVMRUNUUklDLFxyXG4gIElDRSxcclxuICBEUkFHT04sXHJcbiAgREFSSyxcclxuICBGQUlSWSxcclxufVxyXG5cclxuLyoqXHJcbiAqIFJlcHJlc2VudCBQb2tlbW9uJ3MgUG9rZWRleCBzdGF0cy5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBQb2tlU3RhdHMge1xyXG4gIC8vIERPTSBSZWZlcmVuY2UgdG8gUG9rZWRleCBlbnRyeSBmaWVsZHNcclxuICByZWFkb25seSBkaXNwbGF5UG9rZU51bWJlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxyXG4gICAgXCJkaXNwbGF5LXBva2UtbnVtYmVyXCJcclxuICApIGFzIEhUTUxTcGFuRWxlbWVudDtcclxuICByZWFkb25seSBkaXNwbGF5UG9rZU5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcclxuICAgIFwiZGlzcGxheS1wb2tlLW5hbWVcIlxyXG4gICkgYXMgSFRNTERpdkVsZW1lbnQ7XHJcbiAgcmVhZG9ubHkgZGlzcGxheVBva2VIZWlnaHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcclxuICAgIFwiZGlzcGxheS1wb2tlLWhlaWdodFwiXHJcbiAgKSBhcyBIVE1MRGl2RWxlbWVudDtcclxuICByZWFkb25seSBkaXNwbGF5UG9rZVdlaWdodCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxyXG4gICAgXCJkaXNwbGF5LXBva2Utd2VpZ2h0XCJcclxuICApIGFzIEhUTUxEaXZFbGVtZW50O1xyXG4gIHJlYWRvbmx5IGRpc3BsYXlQb2tlQmF0dGxlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxyXG4gICAgXCJkaXNwbGF5LXBva2UtYmF0dGxlc1wiXHJcbiAgKSBhcyBIVE1MRGl2RWxlbWVudDtcclxuICByZWFkb25seSBkaXNwbGF5UG9rZURlc2MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcclxuICAgIFwiZGlzcGxheS1wb2tlLWRlc2NcIlxyXG4gICkgYXMgSFRNTERpdkVsZW1lbnQ7XHJcbiAgcmVhZG9ubHkgZGlzcGxheVBva2VHZW51cyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxyXG4gICAgXCJkaXNwbGF5LXBva2UtZ2VudXNcIlxyXG4gICkgYXMgSFRNTERpdkVsZW1lbnQ7XHJcbiAgcmVhZG9ubHkgZGlzcGxheVBva2VTcHJpdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcclxuICAgIFwiZGlzcGxheS1wb2tlLXNwcml0ZVwiXHJcbiAgKSBhcyBIVE1MSW1hZ2VFbGVtZW50O1xyXG4gIHJlYWRvbmx5IGRpc3BsYXlQb2tlSW1nID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXHJcbiAgICBcImRpc3BsYXktcG9rZS1pbWdcIlxyXG4gICkgYXMgSFRNTEltYWdlRWxlbWVudDtcclxuICAvLyBQb2tlIFR5cGVcclxuICByZWFkb25seSBkaXNwbGF5UG9rZVR5cGVJbWcxID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXHJcbiAgICBcImRpc3BsYXktcG9rZS10eXBlLWltZy0xXCJcclxuICApIGFzIEhUTUxJbWFnZUVsZW1lbnQ7XHJcbiAgcmVhZG9ubHkgZGlzcGxheVBva2VUeXBlSW1nMiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxyXG4gICAgXCJkaXNwbGF5LXBva2UtdHlwZS1pbWctMlwiXHJcbiAgKSBhcyBIVE1MSW1hZ2VFbGVtZW50O1xyXG4gIHJlYWRvbmx5IGRpc3BsYXlQb2tlVHlwZTEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcclxuICAgIFwiZGlzcGxheS1wb2tlLXR5cGUtMVwiXHJcbiAgKSBhcyBIVE1MU3BhbkVsZW1lbnQ7XHJcbiAgcmVhZG9ubHkgZGlzcGxheVBva2VUeXBlMiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxyXG4gICAgXCJkaXNwbGF5LXBva2UtdHlwZS0yXCJcclxuICApIGFzIEhUTUxTcGFuRWxlbWVudDtcclxuICByZWFkb25seSB0eXBlMDEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR5cGUwMVwiKSBhcyBIVE1MRGl2RWxlbWVudDtcclxuICByZWFkb25seSB0eXBlMDIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR5cGUwMlwiKSBhcyBIVE1MRGl2RWxlbWVudDtcclxuXHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBwcml2YXRlIHBva2VUeXBlOiBzdHJpbmdbXSxcclxuICAgIHByaXZhdGUgcG9rZU51bWJlcjogbnVtYmVyLFxyXG4gICAgcHJpdmF0ZSBoZWlnaHQ6IG51bWJlcixcclxuICAgIHByaXZhdGUgd2VpZ2h0OiBudW1iZXIsXHJcbiAgICBwcml2YXRlIG5hbWU6IHN0cmluZyxcclxuICAgIHByaXZhdGUgZGVzYzogc3RyaW5nLFxyXG4gICAgcHJpdmF0ZSBnZW51czogc3RyaW5nLFxyXG4gICAgcHJpdmF0ZSBpbWdVcmw6IHN0cmluZyxcclxuICAgIHByaXZhdGUgc3ByaXRlVXJsOiBzdHJpbmcsXHJcbiAgICBwcml2YXRlIHBva2VUeXBlVXJsOiBzdHJpbmdbXVxyXG4gICkge31cclxuXHJcbiAgLyoqXHJcbiAgICogUG9wdWxhdGUgdGhlIFBva2VkZXggZW50cnkgd2l0aCB0aGUgY29ycmVjdCBpbmZvcm1hdGlvblxyXG4gICAqIGJhc2VkIG9uIFNlYXJjaFBhcmFtcy4gIFBva2VTdGF0cyBvYmplY3QgaW5zdGFudGlhdGVkIGJhc2VkXHJcbiAgICogb24gU2VhcmNoUGFyYW1zLlxyXG4gICAqL1xyXG4gIHBvcHVsYXRlKCk6IHZvaWQge1xyXG4gICAgdGhpcy5kaXNwbGF5UG9rZU51bWJlci50ZXh0Q29udGVudCA9IGAjICR7dGhpcy5wb2tlTnVtYmVyLnRvU3RyaW5nKCl9YDtcclxuICAgIHRoaXMuZGlzcGxheVBva2VOYW1lLnRleHRDb250ZW50ID0gdGhpcy5uYW1lO1xyXG4gICAgdGhpcy5kaXNwbGF5UG9rZUhlaWdodC50ZXh0Q29udGVudCA9IGAke3RoaXMuaGVpZ2h0LnRvU3RyaW5nKCl9IGZ0YDtcclxuICAgIHRoaXMuZGlzcGxheVBva2VXZWlnaHQudGV4dENvbnRlbnQgPSBgJHt0aGlzLndlaWdodC50b1N0cmluZygpfSBsYnNgO1xyXG4gICAgdGhpcy5kaXNwbGF5UG9rZUJhdHRsZXMudGV4dENvbnRlbnQgPSBnZXRSYW5kb21JbnQoMTApLnRvU3RyaW5nKCk7XHJcbiAgICB0aGlzLmRpc3BsYXlQb2tlRGVzYy50ZXh0Q29udGVudCA9IHRoaXMuZGVzYztcclxuICAgIHRoaXMuZGlzcGxheVBva2VHZW51cy50ZXh0Q29udGVudCA9IHRoaXMuZ2VudXM7XHJcbiAgICB0aGlzLmRpc3BsYXlQb2tlSW1nLnNyYyA9IHRoaXMuaW1nVXJsO1xyXG5cdFx0dGhpcy5kaXNwbGF5UG9rZVNwcml0ZS5zcmMgPSB0aGlzLnNwcml0ZVVybDtcclxuXHRcdHRoaXMucmVuZGVyUG9rZVR5cGUoKTtcclxuICB9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFJlbmRlciBQb2tlbW9uJ3MgdHlwZXMgYnkgdXNpbmcgRE9NLlxyXG5cdCAqIEEgUG9rZW1vbiBuZWNlc3NhcmlseSBoYXMgMSBvciAyIHR5cGVzIG9ubHkuXHJcblx0ICovXHJcbiAgcHJpdmF0ZSByZW5kZXJQb2tlVHlwZSgpOiB2b2lkIHtcclxuICAgIHRoaXMuZGlzcGxheVBva2VUeXBlMS50ZXh0Q29udGVudCA9IHRoaXMucG9rZVR5cGVbMF07XHJcbiAgICB0aGlzLmRpc3BsYXlQb2tlVHlwZUltZzEuc3JjID0gdGhpcy5wb2tlVHlwZVVybFswXTtcclxuXHJcbiAgICBpZiAodGhpcy5wb2tlVHlwZVVybC5sZW5ndGggPT0gMSkge1xyXG4gICAgICB0aGlzLnR5cGUwMi5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICB9IGVsc2UgaWYgKHRoaXMucG9rZVR5cGVVcmwubGVuZ3RoID09IDIpIHtcclxuICAgICAgdGhpcy50eXBlMDIuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgICAgdGhpcy5kaXNwbGF5UG9rZVR5cGUyLnRleHRDb250ZW50ID0gdGhpcy5wb2tlVHlwZVsxXTtcclxuICAgICAgdGhpcy5kaXNwbGF5UG9rZVR5cGVJbWcyLnNyYyA9IHRoaXMucG9rZVR5cGVVcmxbMV07XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aHJvdyBcIkludmFsaWQgcG9rZVR5cGVVcmwgYXJyYXkgbGVuZ3RoIGluIFBva2VTdGF0c1wiO1xyXG4gICAgfVxyXG5cdH1cclxuXHJcblx0LyoqXHJcbiAgICogRGlzcGxheSBzdGF0cyBpbiBQb2tlU3RhdHMgb2JqZWN0LlxyXG4gICAqIEZvciBkZWJ1Z2dpbmcgcHVycG9zZXMuXHJcbiAgICovXHJcbiAgZm9ybWF0KCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gYE5hbWU6ICR7dGhpcy5uYW1lfVxyXG5cdFx0VHlwZTogJHt0aGlzLnBva2VUeXBlWzBdfSAvIGFuZCBtb3JlXHJcblx0XHROby4gJHt0aGlzLnBva2VOdW1iZXJ9XHJcblx0XHRIZWlnaHQ6ICR7dGhpcy5oZWlnaHR9XHJcblx0XHRXZWlnaHQ6ICR7dGhpcy53ZWlnaHR9XHJcblx0XHREZXNjOiAke3RoaXMuZGVzY31cclxuXHRcdGltZyB1cmw6ICR7dGhpcy5pbWdVcmx9XHJcblx0XHRTcHJpdGUgdXJsOiAke3RoaXMuc3ByaXRlVXJsfVxyXG5cdFx0UG9rZXR5cGUgdXJsOiAke3RoaXMucG9rZVR5cGVVcmxbMF19IC8gYW5kIG1vcmVcclxuXHRcdGA7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IFBva2VTdGF0cyB9IGZyb20gXCIuL1Bva2VTdGF0c1wiO1xyXG5cclxuZXhwb3J0IGVudW0gU2VhcmNoT3B0aW9uIHtcclxuICBOQU1FLFxyXG4gIENPTE9VUixcclxufVxyXG5cclxuLyoqXHJcbiAqIFJlcHJlc2VudCB1c2VyIGtleXdvcmQgc2VhcmNoIHRlcm0gYW5kIFNlYXJjaE9wdGlvbi5cclxuICogTWV0aG9kcyBwZXJmb3JtIHNlYXJjaCByZXF1ZXN0cyBwdXJzdWFudCB0byBzZWFyY2ggcGFyYW10ZXJzLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFNlYXJjaFBhcmFtIHtcclxuXHQvLyBEaXZpZGUgZGVjaW1ldHJlIGJ5IHRoaXMgdmFsdWUgdG8gZ2V0IGZlZXRcclxuXHRyZWFkb25seSBERUNJTUVUUkVfVE9fRlQgPSAzLjA0ODtcclxuXHQvLyBEaXZpZGUgaGVjdG9ncmFtIGJ5IHRoaXMgdmFsdWUgdG8gZ2V0IHBvdW5kc1xyXG5cdHJlYWRvbmx5IEhFQ1RPR1JBTV9UT19MQiA9IDQuNTM2O1xyXG4gIHJlYWRvbmx5IE5BTUVfVVJMID0gXCJodHRwczovL3Bva2VhcGkuY28vYXBpL3YyL3Bva2Vtb24vXCI7XHJcbiAgcmVhZG9ubHkgQ09MT1VSX1VSTCA9IFwiaHR0cHM6Ly9wb2tlYXBpLmNvL2FwaS92Mi9wb2tlbW9uLWNvbG9yL1wiO1xyXG5cdHJlYWRvbmx5IFNQRUNJRVNfVVJMID0gXCJodHRwczovL3Bva2VhcGkuY28vYXBpL3YyL3Bva2Vtb24tc3BlY2llcy9cIjtcclxuXHRyZWFkb25seSBlcnJvck1zZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwb2tlLXNlYXJjaC1lcnInKSBhcyBIVE1MU3BhbkVsZW1lbnQ7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUga2V5d29yZDogc3RyaW5nLCBwcml2YXRlIG9wdGlvbjogbnVtYmVyKSB7fVxyXG5cclxuXHQvKipcclxuXHQgKiBSZXR1cm4gYSBQb2tlU3RhdHMgb2JqZWN0IGJhc2VkIG9uIGRhdGEgcmV0cmlldmVkIHRocm91Z2ggUG9rZUFQSVxyXG5cdCAqIGZvciB0aGUgcHVycG9zZSBvZiBmaWxsaW5nIGEgUG9rZWRleCBlbnRyeS5cclxuXHQgKi9cclxuICBhc3luYyBnZXRTdGF0cygpIHtcclxuXHRcdGxldCBkYXRhID0gYXdhaXQgdGhpcy5nZXREYXRhKCk7XHJcblx0XHRpZiAoQXJyYXkuaXNBcnJheShkYXRhKSAmJiAhZGF0YS5sZW5ndGgpIHJldHVybjtcclxuICAgIGxldCBwb2tlbW9uRGF0YSA9IGRhdGFbMF07XHJcbiAgICBsZXQgaW1nVXJsID0gZGF0YVsxXTtcclxuICAgIGxldCBzcGVjaWVzRGF0YSA9IGRhdGFbMl07XHJcblxyXG4gICAgLy8gQVRUUklCVVRFU1xyXG4gICAgbGV0IHBva2VUeXBlOiBzdHJpbmdbXSA9IFtdO1xyXG5cdFx0bGV0IHsgaWQsIGhlaWdodCwgd2VpZ2h0LCBuYW1lIH0gPSBwb2tlbW9uRGF0YTtcclxuXHRcdGhlaWdodCA9IE1hdGgucm91bmQoaGVpZ2h0IC8gdGhpcy5ERUNJTUVUUkVfVE9fRlQgKiAxMCApIC8gMTA7XHJcblx0XHR3ZWlnaHQgPSBNYXRoLnJvdW5kKCh3ZWlnaHQgLyB0aGlzLkhFQ1RPR1JBTV9UT19MQikgKiAxMCkgLyAxMDtcclxuICAgIGxldCBkZXNjOiBzdHJpbmcgPSBcInBsYWNlaG9sZGVyIGRlc2NcIjtcclxuICAgIGxldCBnZW51czogc3RyaW5nID0gXCJwbGFjZWhvbGRlciBnZW51c1wiO1xyXG4gICAgbGV0IHNwcml0ZVVybDogc3RyaW5nID0gcG9rZW1vbkRhdGEuc3ByaXRlcy5mcm9udF9kZWZhdWx0O1xyXG5cdFx0bGV0IHBva2VUeXBlVXJsOiBzdHJpbmdbXSA9IFtdO1xyXG5cdFx0XHJcblx0XHQvKiBDaGVjayBpZiBpZCBpcyBsYXJnZXIgdGhhbiA2NDAuICBJZiBpdCBpcywgcmV0dXJuIHNwcml0ZVVybCBhcyBpbWdVcmwuXHJcblx0XHRcdCAzRCBSZW5kZXJlZCBpbWFnZXMgb25seSBhdmFpbGFibGUgZm9yIFBva2Vtb24gTm8uIDEgLSA2NDAuICovXHJcblx0XHRpZiAoaWQgPiA2NDApIGltZ1VybCA9IHNwcml0ZVVybDtcclxuXHJcblx0XHQvL1RZUEVcclxuICAgIGZvciAobGV0IHBUeXBlIG9mIHBva2Vtb25EYXRhLnR5cGVzKSB7XHJcbiAgICAgIHBva2VUeXBlLnB1c2gocFR5cGUudHlwZS5uYW1lKTtcclxuXHRcdH1cclxuXHRcdC8vREVTQ1xyXG5cdFx0ZGVzYyA9IHNwZWNpZXNEYXRhLmZsYXZvcl90ZXh0X2VudHJpZXNbMF0uZmxhdm9yX3RleHQ7XHJcblx0XHRnZW51cyA9IHNwZWNpZXNEYXRhLmdlbmVyYVs3XS5nZW51cztcclxuXHRcdHBva2VUeXBlLmZvckVhY2gocFR5cGUgPT4ge1xyXG5cdFx0XHRwb2tlVHlwZVVybC5wdXNoKGAuL3B1YmxpYy9pbWcvJHtwVHlwZX0ucG5nYClcclxuXHRcdH0pXHJcblxyXG4gICAgcmV0dXJuIG5ldyBQb2tlU3RhdHMoXHJcbiAgICAgIHBva2VUeXBlLFxyXG4gICAgICBpZCxcclxuICAgICAgaGVpZ2h0LFxyXG4gICAgICB3ZWlnaHQsXHJcbiAgICAgIG5hbWUsXHJcbiAgICAgIGRlc2MsXHJcbiAgICAgIGdlbnVzLFxyXG4gICAgICBpbWdVcmwsXHJcbiAgICAgIHNwcml0ZVVybCxcclxuICAgICAgcG9rZVR5cGVVcmxcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBBc3luY2hyb25vdXNseSByZXRyaWV2ZSB0aHJlZSBwaWVjZXMgb2YgUG9rZW1vbiBkYXRhLlxyXG4gICAqIDAuIFBva2Vtb24gRGF0YSAoZ2VuZXJhbCBzdGF0cyBzdWNoIGFzIGhlaWdodCwgd2VpZ2h0KVxyXG4gICAqIDEuIDNEIFJlbmRlciBJbWFnZSBVcmxcclxuICAgKiAyLiBTcGVjaWVzIERhdGEgKFBva2Vtb24gZGVzY3JpcHRpb24gYW5kIGdlbnVzKVxyXG4gICAqL1xyXG4gIGFzeW5jIGdldERhdGEoKSB7XHJcblx0XHR0aGlzLmVycm9yTXNnLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcclxuICAgIGNvbnN0IHBva2Vtb25EYXRhID0gJC5nZXQoYCR7dGhpcy5OQU1FX1VSTH0ke3RoaXMua2V5d29yZH1gKS5mYWlsKChlKSA9PiB7XHJcblx0XHRcdHRoaXMucmVuZGVyRXJyb3JNc2coKTtcclxuXHRcdH0pO1xyXG4gICAgY29uc3QgaW1nVXJsID0gdGhpcy5nZXRJbWdVcmwoKTtcclxuICAgIGNvbnN0IHNwZWNpZXNEYXRhID0gJC5nZXQoYCR7dGhpcy5TUEVDSUVTX1VSTH0ke3RoaXMua2V5d29yZH1gKS5mYWlsKChlKSA9PiB7XHJcblx0XHRcdHRoaXMucmVuZGVyRXJyb3JNc2coKTtcclxuXHRcdH0pOztcclxuICAgIHRyeSB7XHJcblx0XHRcdGNvbnN0IGFsbERhdGEgPSBhd2FpdCBQcm9taXNlLmFsbChbcG9rZW1vbkRhdGEsIGltZ1VybCwgc3BlY2llc0RhdGFdKTtcclxuICAgIFx0cmV0dXJuIGFsbERhdGE7XHJcblx0XHR9IGNhdGNoIChlcnIpIHtcclxuXHRcdFx0Y29uc29sZS5lcnJvcihgQ2Fubm90IHJldHJpZXZlIFBva2VBUEkgZGF0YSBmb3IgJHt0aGlzLmtleXdvcmR9OiBnZXREYXRhKCkgaW4gU2VhcmNoUGFyYW1gLCBlcnIpO1xyXG5cdFx0fSBcclxuXHRcdHJldHVybiBbXTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCAzRCBSZW5kZXIgSW1hZ2UgVVJMIGZvciBQb2tlbW9uLlxyXG4gICAqL1xyXG4gIGFzeW5jIGdldEltZ1VybCgpIHtcclxuXHRcdGxldCBkYXRhID0gYXdhaXQgdGhpcy5nZXRJZCgpO1xyXG5cdFx0bGV0IG51bTogbnVtYmVyID0gdHlwZW9mKGRhdGEpID09PSAnbnVtYmVyJyA/IGRhdGEgOiBkYXRhLmlkO1xyXG4gICAgcmV0dXJuIGBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vWmVDaHJhbGVzL1BvZ29Bc3NldHMvbWFzdGVyL3Bva2Vtb25faWNvbnMvcG9rZW1vbl9pY29uXyR7dGhpcy5nZXRVcmxTbmlwcGV0KFxyXG4gICAgICBudW1cclxuICAgICl9XzAwLnBuZ2A7XHJcblx0fVxyXG5cdFxyXG5cdHByaXZhdGUgcmVuZGVyRXJyb3JNc2coKTogdm9pZCB7XHJcblx0XHR0aGlzLmVycm9yTXNnLnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSc7XHJcblx0XHR0aGlzLmVycm9yTXNnLnRleHRDb250ZW50ID0gYFBva2Vtb24gJHt0aGlzLmtleXdvcmQudG9VcHBlckNhc2UoKX0gZG9lcyBub3QgZXhpc3QuIFBsZWFzZSB0cnkgYWdhaW4uYDtcclxuXHR9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCBQb2tlbW9uIE5vLiBiYXNlZCBvbiBzZWFyY2gga2V5d29yZC5cclxuICAgKi9cclxuICBhc3luYyBnZXRJZCgpIHtcclxuICAgIGlmICh0aGlzLmlzTnVtZXJpYyh0aGlzLmtleXdvcmQpKSB7XHJcblx0XHRcdHJldHVybiBwYXJzZUludCh0aGlzLmtleXdvcmQpO1xyXG5cdFx0fVxyXG4gICAgcmV0dXJuIGF3YWl0ICQuZ2V0KGAke3RoaXMuTkFNRV9VUkx9JHt0aGlzLmtleXdvcmR9YCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgSUQgdXJsIHNuaXBwZXQgdG8gcmV0cmlldmUgY29ycmVjdCBpbWFnZS5cclxuICAgKiAxIC0+IDAwMVxyXG4gICAqIDEzIC0+IDAxM1xyXG4gICAqIDEyMyAtPiAxMjNcclxuICAgKiBAcGFyYW0gaWQgYXMgaW50ZWdlclxyXG4gICAqL1xyXG4gIHByaXZhdGUgZ2V0VXJsU25pcHBldChpZDogbnVtYmVyKTogc3RyaW5nIHtcclxuXHRcdGxldCBzbmlwcGV0OiBzdHJpbmc7XHJcbiAgICBpZiAoaWQgPCAxMCkge1xyXG4gICAgICBzbmlwcGV0ID0gYDAwJHtpZC50b1N0cmluZygpfWA7XHJcbiAgICB9IGVsc2UgaWYgKGlkIDwgMTAwKSB7XHJcbiAgICAgIHNuaXBwZXQgPSBgMCR7aWQudG9TdHJpbmcoKX1gO1xyXG4gICAgfSBlbHNlIGlmIChpZCA+PSAxMDApIHtcclxuICAgICAgc25pcHBldCA9IGAke2lkLnRvU3RyaW5nKCl9YDtcclxuICAgIH0gZWxzZSB7XHJcblx0XHRcdHRocm93IFwiaWQgcGFzc2VkIHRvIGdldFVybFNuaXBwZXQoKSBpcyBOYU5cIjtcclxuXHRcdH1cclxuICAgIHJldHVybiBzbmlwcGV0O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSGVscGVyIG1ldGhvZCB0byBjaGVjayBpZiBrZXl3b3JkIGlzIG51bWVyaWMuXHJcbiAgICogQHBhcmFtIHZhbHVlIGFzIHN0cmluZ1xyXG4gICAqL1xyXG4gIHByaXZhdGUgaXNOdW1lcmljKHZhbHVlOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgIHJldHVybiAvXi17MCwxfVxcZCskLy50ZXN0KHZhbHVlKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgU2VhcmNoUGFyYW0gfSBmcm9tIFwiLi9jbGFzc2VzL1NlYXJjaFBhcmFtXCI7XHJcblxyXG5jb25zdCBmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwb2tlLXNlYXJjaFwiKSBhcyBIVE1MRm9ybUVsZW1lbnQ7XHJcbmNvbnN0IGtleXdvcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImtleXdvcmRcIikgYXMgSFRNTElucHV0RWxlbWVudDtcclxuY29uc3Qgc2VhcmNoT3B0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZWFyY2gtb3B0aW9uXCIpIGFzIEhUTUxTZWxlY3RFbGVtZW50O1xyXG5cclxuaWYgKGZvcm0pIHtcclxuXHRmb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGU6IEV2ZW50KSA9PiB7XHJcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRsZXQgb3B0aW9uOiBudW1iZXIgPSBwYXJzZUludChzZWFyY2hPcHRpb24udmFsdWUpO1xyXG5cdFx0bGV0IHZhbHVlczogW3N0cmluZywgbnVtYmVyXTtcclxuXHRcdHZhbHVlcyA9IFtrZXl3b3JkLnZhbHVlLnRvTG93ZXJDYXNlKCksIG9wdGlvbl07XHJcblx0XHJcblx0XHRjb25zdCBzZWFyY2hQYXJhbXMgPSBuZXcgU2VhcmNoUGFyYW0oLi4udmFsdWVzKTtcclxuXHRcdGtleXdvcmQudmFsdWUgPSAnJztcclxuXHRcdHNlYXJjaFBhcmFtcy5nZXRTdGF0cygpLnRoZW4ocG9rZVN0YXRzID0+IHtcclxuXHRcdFx0aWYgKHBva2VTdGF0cykgcG9rZVN0YXRzLnBvcHVsYXRlKCk7XHJcblx0XHR9KTtcdFxyXG5cdH0pO1xyXG59XHJcblxyXG4vKioqKioqXHJcbiAqICBNYXRlcmlhbGlzZSBjb21wb25lbnQgaW5pdGlhbGlzYXRpb25cclxuICoqKioqL1xyXG4kKCgpID0+IHtcclxuICAoPGFueT4kKFwiLnNpZGVuYXZcIikpLnNpZGVuYXYoKTtcclxuICAoPGFueT4kKFwic2VsZWN0XCIpKS5mb3JtU2VsZWN0KCk7XHJcbn0pO1xyXG5cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///0\n')}]);