!function(Q){var U={};function F(B){if(U[B])return U[B].exports;var e=U[B]={i:B,l:!1,exports:{}};return Q[B].call(e.exports,e,e.exports,F),e.l=!0,e.exports}F.m=Q,F.c=U,F.d=function(Q,U,B){F.o(Q,U)||Object.defineProperty(Q,U,{enumerable:!0,get:B})},F.r=function(Q){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(Q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Q,"__esModule",{value:!0})},F.t=function(Q,U){if(1&U&&(Q=F(Q)),8&U)return Q;if(4&U&&"object"==typeof Q&&Q&&Q.__esModule)return Q;var B=Object.create(null);if(F.r(B),Object.defineProperty(B,"default",{enumerable:!0,value:Q}),2&U&&"string"!=typeof Q)for(var e in Q)F.d(B,e,function(U){return Q[U]}.bind(null,e));return B},F.n=function(Q){var U=Q&&Q.__esModule?function(){return Q.default}:function(){return Q};return F.d(U,"a",U),U},F.o=function(Q,U){return Object.prototype.hasOwnProperty.call(Q,U)},F.p="public",F(F.s=0)}([function(module,__webpack_exports__,__webpack_require__){"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./src/functions.ts\nconst getRandomInt = (max) => {\r\n    return Math.floor(Math.random() * Math.floor(max));\r\n};\r\n\n// CONCATENATED MODULE: ./src/classes/PokeStats.ts\n\r\n/**\r\n * All Pokemon Types.\r\n * Enum values follow PokeAPI type values.\r\n */\r\nvar PokeType;\r\n(function (PokeType) {\r\n    PokeType[PokeType["NORMAL"] = 1] = "NORMAL";\r\n    PokeType[PokeType["FIGHTING"] = 2] = "FIGHTING";\r\n    PokeType[PokeType["FLYING"] = 3] = "FLYING";\r\n    PokeType[PokeType["POISON"] = 4] = "POISON";\r\n    PokeType[PokeType["GROUND"] = 5] = "GROUND";\r\n    PokeType[PokeType["ROCK"] = 6] = "ROCK";\r\n    PokeType[PokeType["BUG"] = 7] = "BUG";\r\n    PokeType[PokeType["GHOST"] = 8] = "GHOST";\r\n    PokeType[PokeType["STEEL"] = 9] = "STEEL";\r\n    PokeType[PokeType["FIRE"] = 10] = "FIRE";\r\n    PokeType[PokeType["WATER"] = 11] = "WATER";\r\n    PokeType[PokeType["GRASS"] = 12] = "GRASS";\r\n    PokeType[PokeType["ELECTRIC"] = 13] = "ELECTRIC";\r\n    PokeType[PokeType["ICE"] = 14] = "ICE";\r\n    PokeType[PokeType["DRAGON"] = 15] = "DRAGON";\r\n    PokeType[PokeType["DARK"] = 16] = "DARK";\r\n    PokeType[PokeType["FAIRY"] = 17] = "FAIRY";\r\n})(PokeType || (PokeType = {}));\r\n/**\r\n * Represent Pokemon\'s Pokedex stats.\r\n */\r\nclass PokeStats_PokeStats {\r\n    constructor(pokeType, pokeNumber, height, weight, name, desc, genus, imgUrl, spriteUrl, pokeTypeUrl) {\r\n        this.pokeType = pokeType;\r\n        this.pokeNumber = pokeNumber;\r\n        this.height = height;\r\n        this.weight = weight;\r\n        this.name = name;\r\n        this.desc = desc;\r\n        this.genus = genus;\r\n        this.imgUrl = imgUrl;\r\n        this.spriteUrl = spriteUrl;\r\n        this.pokeTypeUrl = pokeTypeUrl;\r\n        // DOM Reference to Pokedex entry fields\r\n        this.displayPokeNumber = document.getElementById("display-poke-number");\r\n        this.displayPokeName = document.getElementById("display-poke-name");\r\n        this.displayPokeHeight = document.getElementById("display-poke-height");\r\n        this.displayPokeWeight = document.getElementById("display-poke-weight");\r\n        this.displayPokeBattles = document.getElementById("display-poke-battles");\r\n        this.displayPokeDesc = document.getElementById("display-poke-desc");\r\n        this.displayPokeGenus = document.getElementById("display-poke-genus");\r\n        this.displayPokeSprite = document.getElementById("display-poke-sprite");\r\n        this.displayPokeImg = document.getElementById("display-poke-img");\r\n        // Poke Type\r\n        this.displayPokeTypeImg1 = document.getElementById("display-poke-type-img-1");\r\n        this.displayPokeTypeImg2 = document.getElementById("display-poke-type-img-2");\r\n        this.displayPokeType1 = document.getElementById("display-poke-type-1");\r\n        this.displayPokeType2 = document.getElementById("display-poke-type-2");\r\n        this.type01 = document.getElementById("type01");\r\n        this.type02 = document.getElementById("type02");\r\n    }\r\n    /**\r\n     * Populate the Pokedex entry with the correct information\r\n     * based on SearchParams.  PokeStats object instantiated based\r\n     * on SearchParams.\r\n     */\r\n    populate() {\r\n        this.displayPokeNumber.textContent = `# ${this.pokeNumber.toString()}`;\r\n        this.displayPokeName.textContent = this.name;\r\n        this.displayPokeHeight.textContent = `${this.height.toString()}\'`;\r\n        this.displayPokeWeight.textContent = `${this.weight.toString()} lbs`;\r\n        this.displayPokeBattles.textContent = getRandomInt(10).toString();\r\n        this.displayPokeDesc.textContent = this.desc;\r\n        this.displayPokeGenus.textContent = this.genus;\r\n        this.displayPokeImg.src = this.imgUrl;\r\n        this.displayPokeSprite.src = this.spriteUrl;\r\n        this.renderPokeType();\r\n    }\r\n    /**\r\n     * Render Pokemon\'s types by using DOM.\r\n     * A Pokemon necessarily has 1 or 2 types only.\r\n     */\r\n    renderPokeType() {\r\n        this.displayPokeType1.textContent = this.pokeType[0];\r\n        this.displayPokeTypeImg1.src = this.pokeTypeUrl[0];\r\n        if (this.pokeTypeUrl.length == 1) {\r\n            this.type02.style.display = "none";\r\n        }\r\n        else if (this.pokeTypeUrl.length == 2) {\r\n            this.type02.style.display = "block";\r\n            this.displayPokeType2.textContent = this.pokeType[1];\r\n            this.displayPokeTypeImg2.src = this.pokeTypeUrl[1];\r\n        }\r\n        else {\r\n            throw "Invalid pokeTypeUrl array length in PokeStats";\r\n        }\r\n    }\r\n    /**\r\n   * Display stats in PokeStats object.\r\n   * For debugging purposes.\r\n   */\r\n    format() {\r\n        return `Name: ${this.name}\r\n\t\tType: ${this.pokeType[0]} / and more\r\n\t\tNo. ${this.pokeNumber}\r\n\t\tHeight: ${this.height}\r\n\t\tWeight: ${this.weight}\r\n\t\tDesc: ${this.desc}\r\n\t\timg url: ${this.imgUrl}\r\n\t\tSprite url: ${this.spriteUrl}\r\n\t\tPoketype url: ${this.pokeTypeUrl[0]} / and more\r\n\t\t`;\r\n    }\r\n}\r\n\n// CONCATENATED MODULE: ./src/classes/SearchParam.ts\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\nvar SearchOption;\r\n(function (SearchOption) {\r\n    SearchOption[SearchOption["NAME"] = 0] = "NAME";\r\n    SearchOption[SearchOption["COLOUR"] = 1] = "COLOUR";\r\n})(SearchOption || (SearchOption = {}));\r\n/**\r\n * Represent user keyword search term and SearchOption.\r\n * Methods perform search requests pursuant to search paramters.\r\n */\r\nclass SearchParam_SearchParam {\r\n    constructor(keyword, option) {\r\n        this.keyword = keyword;\r\n        this.option = option;\r\n        // Divide decimetre by this value to get feet\r\n        this.DECIMETRE_TO_FT = 3.048;\r\n        // Divide hectogram by this value to get pounds\r\n        this.HECTOGRAM_TO_LB = 4.536;\r\n        this.NAME_URL = "https://pokeapi.co/api/v2/pokemon/";\r\n        this.COLOUR_URL = "https://pokeapi.co/api/v2/pokemon-color/";\r\n        this.SPECIES_URL = "https://pokeapi.co/api/v2/pokemon-species/";\r\n        this.errorMsg = document.getElementById(\'poke-search-err\');\r\n    }\r\n    /**\r\n     * Return a PokeStats object based on data retrieved through PokeAPI\r\n     * for the purpose of filling a Pokedex entry.\r\n     */\r\n    getStats() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let data = yield this.getData();\r\n            if (Array.isArray(data) && !data.length)\r\n                return;\r\n            let pokemonData = data[0];\r\n            let imgUrl = data[1];\r\n            let speciesData = data[2];\r\n            // ATTRIBUTES\r\n            let pokeType = [];\r\n            let { id, height, weight, name } = pokemonData;\r\n            height = Math.floor(height / this.DECIMETRE_TO_FT);\r\n            weight = Math.round((weight / this.HECTOGRAM_TO_LB) * 10) / 10;\r\n            let desc = "placeholder desc";\r\n            let genus = "placeholder genus";\r\n            let spriteUrl = pokemonData.sprites.front_default;\r\n            let pokeTypeUrl = [];\r\n            /* Check if id is larger than 640.  If it is, return spriteUrl as imgUrl.\r\n                 3D Rendered images only available for Pokemon No. 1 - 640. */\r\n            if (id > 640)\r\n                imgUrl = spriteUrl;\r\n            //TYPE\r\n            for (let pType of pokemonData.types) {\r\n                pokeType.push(pType.type.name);\r\n            }\r\n            //DESC\r\n            desc = speciesData.flavor_text_entries[0].flavor_text;\r\n            genus = speciesData.genera[7].genus;\r\n            pokeType.forEach(pType => {\r\n                pokeTypeUrl.push(`./public/img/${pType}.png`);\r\n            });\r\n            return new PokeStats_PokeStats(pokeType, id, height, weight, name, desc, genus, imgUrl, spriteUrl, pokeTypeUrl);\r\n        });\r\n    }\r\n    /**\r\n     * Asynchronously retrieve three pieces of Pokemon data.\r\n     * 0. Pokemon Data (general stats such as height, weight)\r\n     * 1. 3D Render Image Url\r\n     * 2. Species Data (Pokemon description and genus)\r\n     */\r\n    getData() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.errorMsg.style.visibility = \'hidden\';\r\n            const pokemonData = $.get(`${this.NAME_URL}${this.keyword}`).fail((e) => {\r\n                this.renderErrorMsg();\r\n            });\r\n            const imgUrl = this.getImgUrl();\r\n            const speciesData = $.get(`${this.SPECIES_URL}${this.keyword}`).fail((e) => {\r\n                this.renderErrorMsg();\r\n            });\r\n            ;\r\n            try {\r\n                const allData = yield Promise.all([pokemonData, imgUrl, speciesData]);\r\n                return allData;\r\n            }\r\n            catch (err) {\r\n                console.error(`Cannot retrieve PokeAPI data for ${this.keyword}: getData() in SearchParam`, err);\r\n            }\r\n            return [];\r\n        });\r\n    }\r\n    /**\r\n     * Get 3D Render Image URL for Pokemon.\r\n     */\r\n    getImgUrl() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let data = yield this.getId();\r\n            let num = typeof (data) === \'number\' ? data : data.id;\r\n            return `https://raw.githubusercontent.com/ZeChrales/PogoAssets/master/pokemon_icons/pokemon_icon_${this.getUrlSnippet(num)}_00.png`;\r\n        });\r\n    }\r\n    renderErrorMsg() {\r\n        this.errorMsg.style.visibility = \'visible\';\r\n        this.errorMsg.textContent = `Pokemon ${this.keyword.toUpperCase()} does not exist. Please try again.`;\r\n    }\r\n    /**\r\n     * Get Pokemon No. based on search keyword.\r\n     */\r\n    getId() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (this.isNumeric(this.keyword)) {\r\n                return parseInt(this.keyword);\r\n            }\r\n            return yield $.get(`${this.NAME_URL}${this.keyword}`);\r\n        });\r\n    }\r\n    /**\r\n     * Get ID url snippet to retrieve correct image.\r\n     * 1 -> 001\r\n     * 13 -> 013\r\n     * 123 -> 123\r\n     * @param id as integer\r\n     */\r\n    getUrlSnippet(id) {\r\n        let snippet;\r\n        if (id < 10) {\r\n            snippet = `00${id.toString()}`;\r\n        }\r\n        else if (id < 100) {\r\n            snippet = `0${id.toString()}`;\r\n        }\r\n        else if (id >= 100) {\r\n            snippet = `${id.toString()}`;\r\n        }\r\n        else {\r\n            throw "id passed to getUrlSnippet() is NaN";\r\n        }\r\n        return snippet;\r\n    }\r\n    /**\r\n     * Helper method to check if keyword is numeric.\r\n     * @param value as string\r\n     */\r\n    isNumeric(value) {\r\n        return /^-{0,1}\\d+$/.test(value);\r\n    }\r\n}\r\n\n// CONCATENATED MODULE: ./src/index.ts\n\r\nconst src_form = document.getElementById("poke-search");\r\nconst keyword = document.getElementById("keyword");\r\nconst searchOption = document.getElementById("search-option");\r\nif (src_form) {\r\n    src_form.addEventListener("submit", (e) => {\r\n        e.preventDefault();\r\n        let option = parseInt(searchOption.value);\r\n        let values;\r\n        values = [keyword.value.toLowerCase(), option];\r\n        const searchParams = new SearchParam_SearchParam(...values);\r\n        keyword.value = \'\';\r\n        searchParams.getStats().then(pokeStats => {\r\n            if (pokeStats)\r\n                pokeStats.populate();\r\n        });\r\n    });\r\n}\r\n/******\r\n *  Materialise component initialisation\r\n *****/\r\n$(() => {\r\n    $(".sidenav").sidenav();\r\n    $("select").formSelect();\r\n});\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZnVuY3Rpb25zLnRzPzhhMDciLCJ3ZWJwYWNrOi8vLy4vc3JjL2NsYXNzZXMvUG9rZVN0YXRzLnRzPzg5M2MiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NsYXNzZXMvU2VhcmNoUGFyYW0udHM/NjRkOCIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXgudHM/ZmZiNCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQU8sTUFBTSxZQUFZLEdBQUcsQ0FBQyxHQUFXLEVBQUUsRUFBRTtJQUMxQyxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztBQUNyRCxDQUFDOzs7QUNGMkM7QUFFNUM7OztHQUdHO0FBQ0gsSUFBWSxRQWtCWDtBQWxCRCxXQUFZLFFBQVE7SUFDbEIsMkNBQVU7SUFDViwrQ0FBUTtJQUNSLDJDQUFNO0lBQ04sMkNBQU07SUFDTiwyQ0FBTTtJQUNOLHVDQUFJO0lBQ0oscUNBQUc7SUFDSCx5Q0FBSztJQUNMLHlDQUFLO0lBQ0wsd0NBQUk7SUFDSiwwQ0FBSztJQUNMLDBDQUFLO0lBQ0wsZ0RBQVE7SUFDUixzQ0FBRztJQUNILDRDQUFNO0lBQ04sd0NBQUk7SUFDSiwwQ0FBSztBQUNQLENBQUMsRUFsQlcsUUFBUSxLQUFSLFFBQVEsUUFrQm5CO0FBRUQ7O0dBRUc7QUFDSSxNQUFNLG1CQUFTO0lBNkNwQixZQUNVLFFBQWtCLEVBQ2xCLFVBQWtCLEVBQ2xCLE1BQWMsRUFDZCxNQUFjLEVBQ2QsSUFBWSxFQUNaLElBQVksRUFDWixLQUFhLEVBQ2IsTUFBYyxFQUNkLFNBQWlCLEVBQ2pCLFdBQXFCO1FBVHJCLGFBQVEsR0FBUixRQUFRLENBQVU7UUFDbEIsZUFBVSxHQUFWLFVBQVUsQ0FBUTtRQUNsQixXQUFNLEdBQU4sTUFBTSxDQUFRO1FBQ2QsV0FBTSxHQUFOLE1BQU0sQ0FBUTtRQUNkLFNBQUksR0FBSixJ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QyxlQUFlLENBQXNCLENBQUM7QUFFbkYsSUFBSSxRQUFJLEVBQUU7SUFDVCxRQUFJLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBUSxFQUFFLEVBQUU7UUFDNUMsQ0FBQyxDQUFDLGNBQWMsRUFBRSxDQUFDO1FBQ25CLElBQUksTUFBTSxHQUFXLFFBQVEsQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDbEQsSUFBSSxNQUF3QixDQUFDO1FBQzdCLE1BQU0sR0FBRyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsV0FBVyxFQUFFLEVBQUUsTUFBTSxDQUFDLENBQUM7UUFFL0MsTUFBTSxZQUFZLEdBQUcsSUFBSSx1QkFBVyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUM7UUFDaEQsT0FBTyxDQUFDLEtBQUssR0FBRyxFQUFFLENBQUM7UUFDbkIsWUFBWSxDQUFDLFFBQVEsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsRUFBRTtZQUN4QyxJQUFJLFNBQVM7Z0JBQUUsU0FBUyxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQ3JDLENBQUMsQ0FBQyxDQUFDO0lBQ0osQ0FBQyxDQUFDLENBQUM7Q0FDSDtBQUVEOztPQUVPO0FBQ1AsQ0FBQyxDQUFDLEdBQUcsRUFBRTtJQUNDLENBQUMsQ0FBQyxVQUFVLENBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQztJQUN6QixDQUFDLENBQUMsUUFBUSxDQUFFLENBQUMsVUFBVSxFQUFFLENBQUM7QUFDbEMsQ0FBQyxDQUFDLENBQUMiLCJmaWxlIjoiMC5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBnZXRSYW5kb21JbnQgPSAobWF4OiBudW1iZXIpID0+IHtcclxuICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogTWF0aC5mbG9vcihtYXgpKTtcclxufSIsImltcG9ydCB7IGdldFJhbmRvbUludCB9IGZyb20gJy4uL2Z1bmN0aW9ucyc7XHJcblxyXG4vKipcclxuICogQWxsIFBva2Vtb24gVHlwZXMuXHJcbiAqIEVudW0gdmFsdWVzIGZvbGxvdyBQb2tlQVBJIHR5cGUgdmFsdWVzLlxyXG4gKi9cclxuZXhwb3J0IGVudW0gUG9rZVR5cGUge1xyXG4gIE5PUk1BTCA9IDEsXHJcbiAgRklHSFRJTkcsXHJcbiAgRkxZSU5HLFxyXG4gIFBPSVNPTixcclxuICBHUk9VTkQsXHJcbiAgUk9DSyxcclxuICBCVUcsXHJcbiAgR0hPU1QsXHJcbiAgU1RFRUwsXHJcbiAgRklSRSxcclxuICBXQVRFUixcclxuICBHUkFTUyxcclxuICBFTEVDVFJJQyxcclxuICBJQ0UsXHJcbiAgRFJBR09OLFxyXG4gIERBUkssXHJcbiAgRkFJUlksXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZXByZXNlbnQgUG9rZW1vbidzIFBva2VkZXggc3RhdHMuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgUG9rZVN0YXRzIHtcclxuICAvLyBET00gUmVmZXJlbmNlIHRvIFBva2VkZXggZW50cnkgZmllbGRzXHJcbiAgcmVhZG9ubHkgZGlzcGxheVBva2VOdW1iZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcclxuICAgIFwiZGlzcGxheS1wb2tlLW51bWJlclwiXHJcbiAgKSBhcyBIVE1MU3BhbkVsZW1lbnQ7XHJcbiAgcmVhZG9ubHkgZGlzcGxheVBva2VOYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXHJcbiAgICBcImRpc3BsYXktcG9rZS1uYW1lXCJcclxuICApIGFzIEhUTUxEaXZFbGVtZW50O1xyXG4gIHJlYWRvbmx5IGRpc3BsYXlQb2tlSGVpZ2h0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXHJcbiAgICBcImRpc3BsYXktcG9rZS1oZWlnaHRcIlxyXG4gICkgYXMgSFRNTERpdkVsZW1lbnQ7XHJcbiAgcmVhZG9ubHkgZGlzcGxheVBva2VXZWlnaHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcclxuICAgIFwiZGlzcGxheS1wb2tlLXdlaWdodFwiXHJcbiAgKSBhcyBIVE1MRGl2RWxlbWVudDtcclxuICByZWFkb25seSBkaXNwbGF5UG9rZUJhdHRsZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcclxuICAgIFwiZGlzcGxheS1wb2tlLWJhdHRsZXNcIlxyXG4gICkgYXMgSFRNTERpdkVsZW1lbnQ7XHJcbiAgcmVhZG9ubHkgZGlzcGxheVBva2VEZXNjID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXHJcbiAgICBcImRpc3BsYXktcG9rZS1kZXNjXCJcclxuICApIGFzIEhUTUxEaXZFbGVtZW50O1xyXG4gIHJlYWRvbmx5IGRpc3BsYXlQb2tlR2VudXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcclxuICAgIFwiZGlzcGxheS1wb2tlLWdlbnVzXCJcclxuICApIGFzIEhUTUxEaXZFbGVtZW50O1xyXG4gIHJlYWRvbmx5IGRpc3BsYXlQb2tlU3ByaXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXHJcbiAgICBcImRpc3BsYXktcG9rZS1zcHJpdGVcIlxyXG4gICkgYXMgSFRNTEltYWdlRWxlbWVudDtcclxuICByZWFkb25seSBkaXNwbGF5UG9rZUltZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxyXG4gICAgXCJkaXNwbGF5LXBva2UtaW1nXCJcclxuICApIGFzIEhUTUxJbWFnZUVsZW1lbnQ7XHJcbiAgLy8gUG9rZSBUeXBlXHJcbiAgcmVhZG9ubHkgZGlzcGxheVBva2VUeXBlSW1nMSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxyXG4gICAgXCJkaXNwbGF5LXBva2UtdHlwZS1pbWctMVwiXHJcbiAgKSBhcyBIVE1MSW1hZ2VFbGVtZW50O1xyXG4gIHJlYWRvbmx5IGRpc3BsYXlQb2tlVHlwZUltZzIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcclxuICAgIFwiZGlzcGxheS1wb2tlLXR5cGUtaW1nLTJcIlxyXG4gICkgYXMgSFRNTEltYWdlRWxlbWVudDtcclxuICByZWFkb25seSBkaXNwbGF5UG9rZVR5cGUxID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXHJcbiAgICBcImRpc3BsYXktcG9rZS10eXBlLTFcIlxyXG4gICkgYXMgSFRNTFNwYW5FbGVtZW50O1xyXG4gIHJlYWRvbmx5IGRpc3BsYXlQb2tlVHlwZTIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcclxuICAgIFwiZGlzcGxheS1wb2tlLXR5cGUtMlwiXHJcbiAgKSBhcyBIVE1MU3BhbkVsZW1lbnQ7XHJcbiAgcmVhZG9ubHkgdHlwZTAxID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eXBlMDFcIikgYXMgSFRNTERpdkVsZW1lbnQ7XHJcbiAgcmVhZG9ubHkgdHlwZTAyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eXBlMDJcIikgYXMgSFRNTERpdkVsZW1lbnQ7XHJcblxyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgcHJpdmF0ZSBwb2tlVHlwZTogc3RyaW5nW10sXHJcbiAgICBwcml2YXRlIHBva2VOdW1iZXI6IG51bWJlcixcclxuICAgIHByaXZhdGUgaGVpZ2h0OiBudW1iZXIsXHJcbiAgICBwcml2YXRlIHdlaWdodDogbnVtYmVyLFxyXG4gICAgcHJpdmF0ZSBuYW1lOiBzdHJpbmcsXHJcbiAgICBwcml2YXRlIGRlc2M6IHN0cmluZyxcclxuICAgIHByaXZhdGUgZ2VudXM6IHN0cmluZyxcclxuICAgIHByaXZhdGUgaW1nVXJsOiBzdHJpbmcsXHJcbiAgICBwcml2YXRlIHNwcml0ZVVybDogc3RyaW5nLFxyXG4gICAgcHJpdmF0ZSBwb2tlVHlwZVVybDogc3RyaW5nW11cclxuICApIHt9XHJcblxyXG4gIC8qKlxyXG4gICAqIFBvcHVsYXRlIHRoZSBQb2tlZGV4IGVudHJ5IHdpdGggdGhlIGNvcnJlY3QgaW5mb3JtYXRpb25cclxuICAgKiBiYXNlZCBvbiBTZWFyY2hQYXJhbXMuICBQb2tlU3RhdHMgb2JqZWN0IGluc3RhbnRpYXRlZCBiYXNlZFxyXG4gICAqIG9uIFNlYXJjaFBhcmFtcy5cclxuICAgKi9cclxuICBwb3B1bGF0ZSgpOiB2b2lkIHtcclxuICAgIHRoaXMuZGlzcGxheVBva2VOdW1iZXIudGV4dENvbnRlbnQgPSBgIyAke3RoaXMucG9rZU51bWJlci50b1N0cmluZygpfWA7XHJcbiAgICB0aGlzLmRpc3BsYXlQb2tlTmFtZS50ZXh0Q29udGVudCA9IHRoaXMubmFtZTtcclxuICAgIHRoaXMuZGlzcGxheVBva2VIZWlnaHQudGV4dENvbnRlbnQgPSBgJHt0aGlzLmhlaWdodC50b1N0cmluZygpfSdgO1xyXG4gICAgdGhpcy5kaXNwbGF5UG9rZVdlaWdodC50ZXh0Q29udGVudCA9IGAke3RoaXMud2VpZ2h0LnRvU3RyaW5nKCl9IGxic2A7XHJcbiAgICB0aGlzLmRpc3BsYXlQb2tlQmF0dGxlcy50ZXh0Q29udGVudCA9IGdldFJhbmRvbUludCgxMCkudG9TdHJpbmcoKTtcclxuICAgIHRoaXMuZGlzcGxheVBva2VEZXNjLnRleHRDb250ZW50ID0gdGhpcy5kZXNjO1xyXG4gICAgdGhpcy5kaXNwbGF5UG9rZUdlbnVzLnRleHRDb250ZW50ID0gdGhpcy5nZW51cztcclxuICAgIHRoaXMuZGlzcGxheVBva2VJbWcuc3JjID0gdGhpcy5pbWdVcmw7XHJcblx0XHR0aGlzLmRpc3BsYXlQb2tlU3ByaXRlLnNyYyA9IHRoaXMuc3ByaXRlVXJsO1xyXG5cdFx0dGhpcy5yZW5kZXJQb2tlVHlwZSgpO1xyXG4gIH1cclxuXHJcblx0LyoqXHJcblx0ICogUmVuZGVyIFBva2Vtb24ncyB0eXBlcyBieSB1c2luZyBET00uXHJcblx0ICogQSBQb2tlbW9uIG5lY2Vzc2FyaWx5IGhhcyAxIG9yIDIgdHlwZXMgb25seS5cclxuXHQgKi9cclxuICBwcml2YXRlIHJlbmRlclBva2VUeXBlKCk6IHZvaWQge1xyXG4gICAgdGhpcy5kaXNwbGF5UG9rZVR5cGUxLnRleHRDb250ZW50ID0gdGhpcy5wb2tlVHlwZVswXTtcclxuICAgIHRoaXMuZGlzcGxheVBva2VUeXBlSW1nMS5zcmMgPSB0aGlzLnBva2VUeXBlVXJsWzBdO1xyXG5cclxuICAgIGlmICh0aGlzLnBva2VUeXBlVXJsLmxlbmd0aCA9PSAxKSB7XHJcbiAgICAgIHRoaXMudHlwZTAyLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgIH0gZWxzZSBpZiAodGhpcy5wb2tlVHlwZVVybC5sZW5ndGggPT0gMikge1xyXG4gICAgICB0aGlzLnR5cGUwMi5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gICAgICB0aGlzLmRpc3BsYXlQb2tlVHlwZTIudGV4dENvbnRlbnQgPSB0aGlzLnBva2VUeXBlWzFdO1xyXG4gICAgICB0aGlzLmRpc3BsYXlQb2tlVHlwZUltZzIuc3JjID0gdGhpcy5wb2tlVHlwZVVybFsxXTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRocm93IFwiSW52YWxpZCBwb2tlVHlwZVVybCBhcnJheSBsZW5ndGggaW4gUG9rZVN0YXRzXCI7XHJcbiAgICB9XHJcblx0fVxyXG5cclxuXHQvKipcclxuICAgKiBEaXNwbGF5IHN0YXRzIGluIFBva2VTdGF0cyBvYmplY3QuXHJcbiAgICogRm9yIGRlYnVnZ2luZyBwdXJwb3Nlcy5cclxuICAgKi9cclxuICBmb3JtYXQoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiBgTmFtZTogJHt0aGlzLm5hbWV9XHJcblx0XHRUeXBlOiAke3RoaXMucG9rZVR5cGVbMF19IC8gYW5kIG1vcmVcclxuXHRcdE5vLiAke3RoaXMucG9rZU51bWJlcn1cclxuXHRcdEhlaWdodDogJHt0aGlzLmhlaWdodH1cclxuXHRcdFdlaWdodDogJHt0aGlzLndlaWdodH1cclxuXHRcdERlc2M6ICR7dGhpcy5kZXNjfVxyXG5cdFx0aW1nIHVybDogJHt0aGlzLmltZ1VybH1cclxuXHRcdFNwcml0ZSB1cmw6ICR7dGhpcy5zcHJpdGVVcmx9XHJcblx0XHRQb2tldHlwZSB1cmw6ICR7dGhpcy5wb2tlVHlwZVVybFswXX0gLyBhbmQgbW9yZVxyXG5cdFx0YDtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgUG9rZVN0YXRzIH0gZnJvbSBcIi4vUG9rZVN0YXRzXCI7XHJcblxyXG5leHBvcnQgZW51bSBTZWFyY2hPcHRpb24ge1xyXG4gIE5BTUUsXHJcbiAgQ09MT1VSLFxyXG59XHJcblxyXG4vKipcclxuICogUmVwcmVzZW50IHVzZXIga2V5d29yZCBzZWFyY2ggdGVybSBhbmQgU2VhcmNoT3B0aW9uLlxyXG4gKiBNZXRob2RzIHBlcmZvcm0gc2VhcmNoIHJlcXVlc3RzIHB1cnN1YW50IHRvIHNlYXJjaCBwYXJhbXRlcnMuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgU2VhcmNoUGFyYW0ge1xyXG5cdC8vIERpdmlkZSBkZWNpbWV0cmUgYnkgdGhpcyB2YWx1ZSB0byBnZXQgZmVldFxyXG5cdHJlYWRvbmx5IERFQ0lNRVRSRV9UT19GVCA9IDMuMDQ4O1xyXG5cdC8vIERpdmlkZSBoZWN0b2dyYW0gYnkgdGhpcyB2YWx1ZSB0byBnZXQgcG91bmRzXHJcblx0cmVhZG9ubHkgSEVDVE9HUkFNX1RPX0xCID0gNC41MzY7XHJcbiAgcmVhZG9ubHkgTkFNRV9VUkwgPSBcImh0dHBzOi8vcG9rZWFwaS5jby9hcGkvdjIvcG9rZW1vbi9cIjtcclxuICByZWFkb25seSBDT0xPVVJfVVJMID0gXCJodHRwczovL3Bva2VhcGkuY28vYXBpL3YyL3Bva2Vtb24tY29sb3IvXCI7XHJcblx0cmVhZG9ubHkgU1BFQ0lFU19VUkwgPSBcImh0dHBzOi8vcG9rZWFwaS5jby9hcGkvdjIvcG9rZW1vbi1zcGVjaWVzL1wiO1xyXG5cdHJlYWRvbmx5IGVycm9yTXNnID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Bva2Utc2VhcmNoLWVycicpIGFzIEhUTUxTcGFuRWxlbWVudDtcclxuXHJcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBrZXl3b3JkOiBzdHJpbmcsIHByaXZhdGUgb3B0aW9uOiBudW1iZXIpIHt9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFJldHVybiBhIFBva2VTdGF0cyBvYmplY3QgYmFzZWQgb24gZGF0YSByZXRyaWV2ZWQgdGhyb3VnaCBQb2tlQVBJXHJcblx0ICogZm9yIHRoZSBwdXJwb3NlIG9mIGZpbGxpbmcgYSBQb2tlZGV4IGVudHJ5LlxyXG5cdCAqL1xyXG4gIGFzeW5jIGdldFN0YXRzKCkge1xyXG5cdFx0bGV0IGRhdGEgPSBhd2FpdCB0aGlzLmdldERhdGEoKTtcclxuXHRcdGlmIChBcnJheS5pc0FycmF5KGRhdGEpICYmICFkYXRhLmxlbmd0aCkgcmV0dXJuO1xyXG4gICAgbGV0IHBva2Vtb25EYXRhID0gZGF0YVswXTtcclxuICAgIGxldCBpbWdVcmwgPSBkYXRhWzFdO1xyXG4gICAgbGV0IHNwZWNpZXNEYXRhID0gZGF0YVsyXTtcclxuXHJcbiAgICAvLyBBVFRSSUJVVEVTXHJcbiAgICBsZXQgcG9rZVR5cGU6IHN0cmluZ1tdID0gW107XHJcblx0XHRsZXQgeyBpZCwgaGVpZ2h0LCB3ZWlnaHQsIG5hbWUgfSA9IHBva2Vtb25EYXRhO1xyXG5cdFx0aGVpZ2h0ID0gTWF0aC5mbG9vcihoZWlnaHQgLyB0aGlzLkRFQ0lNRVRSRV9UT19GVCk7XHJcblx0XHR3ZWlnaHQgPSBNYXRoLnJvdW5kKCh3ZWlnaHQgLyB0aGlzLkhFQ1RPR1JBTV9UT19MQikgKiAxMCkgLyAxMDtcclxuICAgIGxldCBkZXNjOiBzdHJpbmcgPSBcInBsYWNlaG9sZGVyIGRlc2NcIjtcclxuICAgIGxldCBnZW51czogc3RyaW5nID0gXCJwbGFjZWhvbGRlciBnZW51c1wiO1xyXG4gICAgbGV0IHNwcml0ZVVybDogc3RyaW5nID0gcG9rZW1vbkRhdGEuc3ByaXRlcy5mcm9udF9kZWZhdWx0O1xyXG5cdFx0bGV0IHBva2VUeXBlVXJsOiBzdHJpbmdbXSA9IFtdO1xyXG5cdFx0XHJcblx0XHQvKiBDaGVjayBpZiBpZCBpcyBsYXJnZXIgdGhhbiA2NDAuICBJZiBpdCBpcywgcmV0dXJuIHNwcml0ZVVybCBhcyBpbWdVcmwuXHJcblx0XHRcdCAzRCBSZW5kZXJlZCBpbWFnZXMgb25seSBhdmFpbGFibGUgZm9yIFBva2Vtb24gTm8uIDEgLSA2NDAuICovXHJcblx0XHRpZiAoaWQgPiA2NDApIGltZ1VybCA9IHNwcml0ZVVybDtcclxuXHJcblx0XHQvL1RZUEVcclxuICAgIGZvciAobGV0IHBUeXBlIG9mIHBva2Vtb25EYXRhLnR5cGVzKSB7XHJcbiAgICAgIHBva2VUeXBlLnB1c2gocFR5cGUudHlwZS5uYW1lKTtcclxuXHRcdH1cclxuXHRcdC8vREVTQ1xyXG5cdFx0ZGVzYyA9IHNwZWNpZXNEYXRhLmZsYXZvcl90ZXh0X2VudHJpZXNbMF0uZmxhdm9yX3RleHQ7XHJcblx0XHRnZW51cyA9IHNwZWNpZXNEYXRhLmdlbmVyYVs3XS5nZW51cztcclxuXHRcdHBva2VUeXBlLmZvckVhY2gocFR5cGUgPT4ge1xyXG5cdFx0XHRwb2tlVHlwZVVybC5wdXNoKGAuL3B1YmxpYy9pbWcvJHtwVHlwZX0ucG5nYClcclxuXHRcdH0pXHJcblxyXG4gICAgcmV0dXJuIG5ldyBQb2tlU3RhdHMoXHJcbiAgICAgIHBva2VUeXBlLFxyXG4gICAgICBpZCxcclxuICAgICAgaGVpZ2h0LFxyXG4gICAgICB3ZWlnaHQsXHJcbiAgICAgIG5hbWUsXHJcbiAgICAgIGRlc2MsXHJcbiAgICAgIGdlbnVzLFxyXG4gICAgICBpbWdVcmwsXHJcbiAgICAgIHNwcml0ZVVybCxcclxuICAgICAgcG9rZVR5cGVVcmxcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBBc3luY2hyb25vdXNseSByZXRyaWV2ZSB0aHJlZSBwaWVjZXMgb2YgUG9rZW1vbiBkYXRhLlxyXG4gICAqIDAuIFBva2Vtb24gRGF0YSAoZ2VuZXJhbCBzdGF0cyBzdWNoIGFzIGhlaWdodCwgd2VpZ2h0KVxyXG4gICAqIDEuIDNEIFJlbmRlciBJbWFnZSBVcmxcclxuICAgKiAyLiBTcGVjaWVzIERhdGEgKFBva2Vtb24gZGVzY3JpcHRpb24gYW5kIGdlbnVzKVxyXG4gICAqL1xyXG4gIGFzeW5jIGdldERhdGEoKSB7XHJcblx0XHR0aGlzLmVycm9yTXNnLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcclxuICAgIGNvbnN0IHBva2Vtb25EYXRhID0gJC5nZXQoYCR7dGhpcy5OQU1FX1VSTH0ke3RoaXMua2V5d29yZH1gKS5mYWlsKChlKSA9PiB7XHJcblx0XHRcdHRoaXMucmVuZGVyRXJyb3JNc2coKTtcclxuXHRcdH0pO1xyXG4gICAgY29uc3QgaW1nVXJsID0gdGhpcy5nZXRJbWdVcmwoKTtcclxuICAgIGNvbnN0IHNwZWNpZXNEYXRhID0gJC5nZXQoYCR7dGhpcy5TUEVDSUVTX1VSTH0ke3RoaXMua2V5d29yZH1gKS5mYWlsKChlKSA9PiB7XHJcblx0XHRcdHRoaXMucmVuZGVyRXJyb3JNc2coKTtcclxuXHRcdH0pOztcclxuICAgIHRyeSB7XHJcblx0XHRcdGNvbnN0IGFsbERhdGEgPSBhd2FpdCBQcm9taXNlLmFsbChbcG9rZW1vbkRhdGEsIGltZ1VybCwgc3BlY2llc0RhdGFdKTtcclxuICAgIFx0cmV0dXJuIGFsbERhdGE7XHJcblx0XHR9IGNhdGNoIChlcnIpIHtcclxuXHRcdFx0Y29uc29sZS5lcnJvcihgQ2Fubm90IHJldHJpZXZlIFBva2VBUEkgZGF0YSBmb3IgJHt0aGlzLmtleXdvcmR9OiBnZXREYXRhKCkgaW4gU2VhcmNoUGFyYW1gLCBlcnIpO1xyXG5cdFx0fSBcclxuXHRcdHJldHVybiBbXTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCAzRCBSZW5kZXIgSW1hZ2UgVVJMIGZvciBQb2tlbW9uLlxyXG4gICAqL1xyXG4gIGFzeW5jIGdldEltZ1VybCgpIHtcclxuXHRcdGxldCBkYXRhID0gYXdhaXQgdGhpcy5nZXRJZCgpO1xyXG5cdFx0bGV0IG51bTogbnVtYmVyID0gdHlwZW9mKGRhdGEpID09PSAnbnVtYmVyJyA/IGRhdGEgOiBkYXRhLmlkO1xyXG4gICAgcmV0dXJuIGBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vWmVDaHJhbGVzL1BvZ29Bc3NldHMvbWFzdGVyL3Bva2Vtb25faWNvbnMvcG9rZW1vbl9pY29uXyR7dGhpcy5nZXRVcmxTbmlwcGV0KFxyXG4gICAgICBudW1cclxuICAgICl9XzAwLnBuZ2A7XHJcblx0fVxyXG5cdFxyXG5cdHByaXZhdGUgcmVuZGVyRXJyb3JNc2coKTogdm9pZCB7XHJcblx0XHR0aGlzLmVycm9yTXNnLnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSc7XHJcblx0XHR0aGlzLmVycm9yTXNnLnRleHRDb250ZW50ID0gYFBva2Vtb24gJHt0aGlzLmtleXdvcmQudG9VcHBlckNhc2UoKX0gZG9lcyBub3QgZXhpc3QuIFBsZWFzZSB0cnkgYWdhaW4uYDtcclxuXHR9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCBQb2tlbW9uIE5vLiBiYXNlZCBvbiBzZWFyY2gga2V5d29yZC5cclxuICAgKi9cclxuICBhc3luYyBnZXRJZCgpIHtcclxuICAgIGlmICh0aGlzLmlzTnVtZXJpYyh0aGlzLmtleXdvcmQpKSB7XHJcblx0XHRcdHJldHVybiBwYXJzZUludCh0aGlzLmtleXdvcmQpO1xyXG5cdFx0fVxyXG4gICAgcmV0dXJuIGF3YWl0ICQuZ2V0KGAke3RoaXMuTkFNRV9VUkx9JHt0aGlzLmtleXdvcmR9YCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgSUQgdXJsIHNuaXBwZXQgdG8gcmV0cmlldmUgY29ycmVjdCBpbWFnZS5cclxuICAgKiAxIC0+IDAwMVxyXG4gICAqIDEzIC0+IDAxM1xyXG4gICAqIDEyMyAtPiAxMjNcclxuICAgKiBAcGFyYW0gaWQgYXMgaW50ZWdlclxyXG4gICAqL1xyXG4gIHByaXZhdGUgZ2V0VXJsU25pcHBldChpZDogbnVtYmVyKTogc3RyaW5nIHtcclxuXHRcdGxldCBzbmlwcGV0OiBzdHJpbmc7XHJcbiAgICBpZiAoaWQgPCAxMCkge1xyXG4gICAgICBzbmlwcGV0ID0gYDAwJHtpZC50b1N0cmluZygpfWA7XHJcbiAgICB9IGVsc2UgaWYgKGlkIDwgMTAwKSB7XHJcbiAgICAgIHNuaXBwZXQgPSBgMCR7aWQudG9TdHJpbmcoKX1gO1xyXG4gICAgfSBlbHNlIGlmIChpZCA+PSAxMDApIHtcclxuICAgICAgc25pcHBldCA9IGAke2lkLnRvU3RyaW5nKCl9YDtcclxuICAgIH0gZWxzZSB7XHJcblx0XHRcdHRocm93IFwiaWQgcGFzc2VkIHRvIGdldFVybFNuaXBwZXQoKSBpcyBOYU5cIjtcclxuXHRcdH1cclxuICAgIHJldHVybiBzbmlwcGV0O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSGVscGVyIG1ldGhvZCB0byBjaGVjayBpZiBrZXl3b3JkIGlzIG51bWVyaWMuXHJcbiAgICogQHBhcmFtIHZhbHVlIGFzIHN0cmluZ1xyXG4gICAqL1xyXG4gIHByaXZhdGUgaXNOdW1lcmljKHZhbHVlOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgIHJldHVybiAvXi17MCwxfVxcZCskLy50ZXN0KHZhbHVlKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgU2VhcmNoUGFyYW0gfSBmcm9tIFwiLi9jbGFzc2VzL1NlYXJjaFBhcmFtXCI7XHJcblxyXG5jb25zdCBmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwb2tlLXNlYXJjaFwiKSBhcyBIVE1MRm9ybUVsZW1lbnQ7XHJcbmNvbnN0IGtleXdvcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImtleXdvcmRcIikgYXMgSFRNTElucHV0RWxlbWVudDtcclxuY29uc3Qgc2VhcmNoT3B0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZWFyY2gtb3B0aW9uXCIpIGFzIEhUTUxTZWxlY3RFbGVtZW50O1xyXG5cclxuaWYgKGZvcm0pIHtcclxuXHRmb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGU6IEV2ZW50KSA9PiB7XHJcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRsZXQgb3B0aW9uOiBudW1iZXIgPSBwYXJzZUludChzZWFyY2hPcHRpb24udmFsdWUpO1xyXG5cdFx0bGV0IHZhbHVlczogW3N0cmluZywgbnVtYmVyXTtcclxuXHRcdHZhbHVlcyA9IFtrZXl3b3JkLnZhbHVlLnRvTG93ZXJDYXNlKCksIG9wdGlvbl07XHJcblx0XHJcblx0XHRjb25zdCBzZWFyY2hQYXJhbXMgPSBuZXcgU2VhcmNoUGFyYW0oLi4udmFsdWVzKTtcclxuXHRcdGtleXdvcmQudmFsdWUgPSAnJztcclxuXHRcdHNlYXJjaFBhcmFtcy5nZXRTdGF0cygpLnRoZW4ocG9rZVN0YXRzID0+IHtcclxuXHRcdFx0aWYgKHBva2VTdGF0cykgcG9rZVN0YXRzLnBvcHVsYXRlKCk7XHJcblx0XHR9KTtcdFxyXG5cdH0pO1xyXG59XHJcblxyXG4vKioqKioqXHJcbiAqICBNYXRlcmlhbGlzZSBjb21wb25lbnQgaW5pdGlhbGlzYXRpb25cclxuICoqKioqL1xyXG4kKCgpID0+IHtcclxuICAoPGFueT4kKFwiLnNpZGVuYXZcIikpLnNpZGVuYXYoKTtcclxuICAoPGFueT4kKFwic2VsZWN0XCIpKS5mb3JtU2VsZWN0KCk7XHJcbn0pO1xyXG5cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///0\n')}]);